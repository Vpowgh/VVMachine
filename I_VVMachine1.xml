<?xml version="1.0"?>
<!-- 
I_VVMachine1.xml
Vera plug-in for Vallox MV ventilation machines 
Developed by Vpow 2019
-->
<implementation>
	<functions>
		_,pluginModule = pcall( require, "L_VVMachine1")

		function pluginStart(dev)
			pcall(pluginModule.VVM_start, dev)
		end

		function pluginRun()
			pcall(pluginModule.VVM_run)
		end
		
		function pluginUpdateParams()
			pcall(pluginModule.updateUserParams)
		end

	</functions>
	<startup>pluginStart</startup>
	<actionList>
		<action>
			<serviceId>urn:vpow-com:serviceId:VVMachine1</serviceId>
			<name>HomeButton</name>
			<run>
				pluginModule.actionHomeButton(lul_device)
				return true
			</run>
		</action>
		<action>
			<serviceId>urn:vpow-com:serviceId:VVMachine1</serviceId>
			<name>AwayButton</name>
			<run>
				pluginModule.actionAwayButton(lul_device)
				return true
			</run>
		</action>
		<action>
			<serviceId>urn:vpow-com:serviceId:VVMachine1</serviceId>
			<name>BoostButton</name>
			<run>
				pluginModule.actionBoostButton(lul_device)
				return true
			</run>
		</action>
		<action>
			<serviceId>urn:vpow-com:serviceId:VVMachine1</serviceId>
			<name>FireplaceButton</name>
			<run>
				pluginModule.actionFireplaceButton(lul_device)
				return true
			</run>
		</action>
	</actionList>
</implementation>
